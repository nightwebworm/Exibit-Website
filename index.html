<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>



    <div class="wrapper">
        <div class="header">
            <h1> Night Webworm </h1>
        </div>
        <img alt="photo of a night webworm" width="800px" src="https://mdc.mo.gov/sites/default/files/styles/species_banner/public/mo_nature/media/field-guide/1_Fall_Webworm_Moth_adult_Hungary_8-15-19.jpg?h=ed80be45&itok=BVm5fCpt">
        
        <div class="box">
            <h3>  Download any instagram pic or video with just one click! <br> Just drug and drop the following to the bookmarks bar,
            then just click it to use! </h3>
            <a class="bookmarklet" href="">
                Insta downloader </a>  
        </div>

        <div class="box">
            <h3>  Calculate the price of all your efood orerds with just one click!</h3>
            <a class="bookmarklet" href="">
                Efood sum spending </a>  
        </div>
    </div>
    
    
    
 <script>
    let bookmarklet_insta='javascript:var title=document.querySelector("title");if(title.textContent.includes("• Instagram")){console.log("we are on stories");var video_src=document.querySelectorAll("section video source");if(video_src.length>0)window.open(video_src[0].src);else{var img=document.querySelectorAll("section div.qbCDp img");window.open(img[0].src)}}else{console.log("we are not on stories");var pr=document.querySelectorAll("[role=\'presentation\']");if(2===pr.length){var imgs=pr[1].querySelectorAll("img"),img_index=0;(dots=document.querySelectorAll("div.JSZAJ._3eoV-.IjCL9.WXPwG div"))&&dots.forEach((e,o)=>{e.classList.contains("XCodT")&&(img_index=o)});img=imgs[img_index];console.log("url: ",img),window.open(img.src)}else if(3===pr.length){var divs=pr[2].querySelectorAll(".KL4Bh");if(1===divs.length){img=div[0].querySelectorAll("img");console.log("url: ",img[0]),window.open(img[0].src)}else{var dots;img_index=0;(dots=document.querySelectorAll("div.JSZAJ._3eoV-.IjCL9.WXPwG div"))&&dots.forEach((e,o)=>{e.classList.contains("XCodT")&&(img_index=o)});img=div[img_index].querySelectorAll("img");console.log("url: ",img[0]),window.open(img[0].src)}}else{var div=pr[0].querySelectorAll(".KL4Bh");img=div[0].querySelectorAll("img");console.log("url: ",img[0]),window.open(img[0].src)}}';
    document.querySelector(".bookmarklet").href = bookmarklet_insta;
    
    let bookmarklet_efood = 'javascript:let style_str="\n.popup {\n    width : 200px;\n    height : 100px;\n    border-radius : 3px;\n    box-shadow : 2px 2px 4px 4px grey;\n    position :fixed;\n    top : 10%;\n    left : 50%;\n    margin-left : -100px;\n    margin-top : -50px;\n    z-index : 100;  \n    text-align: center;\n    padding: 0px 0px;\n    background: white;\n} \n\n.bar{\n    height: 20px;\n    border-radius : 3px 3px 0px 0px;\n    background: rgb(238, 238, 238);\n}\n\n.close{\n    width: 20px;\n    height: inherit;\n    background: rgb(247, 148, 148);\n    z-index: 10;\n    float: right;\n    border-radius : 0px 3px 0px 0px;\n}\n\n.close:hover{\n    background: red;\n}\n\n.content{\n    padding: 5px 5px;\n}   \n} \n",head=document.querySelector("head"),style=document.createElement("style");head.appendChild(style),style.innerHTML=style_str;let popup=document.createElement("div");function myLoop(){return new Promise(e=>{setTimeout(()=>{let n=document.querySelector("#load-more-orders");n.classList.contains("d-none")?e():(n.click(),myLoop().then(()=>{e()}))},1e3)})}popup.innerHTML=\'\n<div class="bar">\n        Efood Bookmarklet\n            <div class="close">✖</div>\n\n        </div>\n        <div class="content">\n            <b><i>Loading.. </i></b>\n        </div>\n        \',console.log(popup),popup.classList.add("popup"),document.querySelector("body").appendChild(popup),myLoop().then(()=>{console.log("done");let e=document.querySelectorAll("li div.col-lg-1 div.mb-3");console.log("meals: ",e);let n=0;e.forEach(e=>{n+=parseFloat(e.textContent.replace(",",".").replace("€",""))}),console.log("Total Price: ",n),popup.querySelector(".content").innerHTML=` Your Total Price: <br> <i> <b> ${n.toFixed(2)} </b> </i> <br> click to close `});let close_btn=document.querySelector(".close");close_btn.addEventListener("click",()=>{popup.remove(),console.log("removes: ",popup)});'
    document.querySelectorAll(".bookmarklet")[1].href = bookmarklet_efood;


    let smartBox = document.querySelector(".smart-box");
    let header = document.querySelector(".header")
    header.addEventListener("mousemove", (event)=>{
        smartBox.style.left=event.clientX+15+"px"

    })
    console.log(smartBox)
 
 </script>       

</body>
</html>